# 工厂模式

## 作用
通过工厂模式实例化对象，可以解耦代码，面向接口编程，使用类只需要与接口耦合不需要耦合具体的实现类也不关心具体的实现类，通过工厂类来耦合实现类，工厂类拓展性高，如果想增加一个实现类，只需拓展一个工厂类即可，同时工厂类也方便实现一些增强逻辑，相当于包了一层。

## 遵循原则

1、满足开闭原则（一个对象对扩展开放，对修改关闭），新增功能需求时，不修改原有代码，在原有的基础扩展和新增。


## 简单工厂模式

简单工厂模式，也称为静态工厂模式，简单示例代码如下：

```java

public interface MessageHandler {
	void sendMsg(String message);
}

public class SmsMessageHandler implements MessageHandler {
	@Override
	public void sendMsg(String message) {
		System.out.println("发送短信消息：" + message);
	}
}

public class EmailMessageHandler implements MessageHandler {
	@Override
	public void sendMsg(String message) {
		System.out.println("发送邮件消息： " + message);
	}
}

public enum MessageTypeEnum {
	SMS,EMAIL;	
}


public class HandlerFactory {
    
	private final static Map<String, MessageHandler> handlerMap = new HashMap<String, MessageHandler>();

	static {
		handlerMap.put(MessageTypeEnum.SMS.name(), new SmsMessageHandler());
		handlerMap.put(MessageTypeEnum.EMAIL.name(), new EmailMessageHandler());
	}

	public static MessageHandler getHandler(String messageType) {
		return handlerMap.get(messageType);
	}

	public static void main(String[] args) {
		MessageHandler handler =  HandlerFactory.getHandler("email".toUpperCase());
		handler.sendMsg("Hello World");
	}
}

```